<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>内网代理</title>
    <link href="/2025/04/25/%E5%86%85%E7%BD%91%E4%BB%A3%E7%90%86/"/>
    <url>/2025/04/25/%E5%86%85%E7%BD%91%E4%BB%A3%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h1 id="内网代理"><a href="#内网代理" class="headerlink" title="内网代理"></a>内网代理</h1><h2 id="安装配置stowaway"><a href="#安装配置stowaway" class="headerlink" title="安装配置stowaway"></a>安装配置stowaway</h2><p>Stowaway下载地址：<a href="https://github.com/ph4ntonn/Stowaway/releases">https://github.com/ph4ntonn/Stowaway/releases</a></p><p><img src="/2025/04/25/hello-world/0250402231515350.png" alt="image-20250402231515350"></p><p>我使用的云服务器Ubuntu作为admin，自己的主机作为agent，所以选择上面这俩</p><p>把<code>linux_x64_admin</code>放在自己的VPS上</p><p><img src="/2025/04/25/hello-world/0250402232141778.png" alt="image-20250402232141778"></p><p><code>windows_x64_agent.exe</code>就放在自己主机里</p><p><img src="/2025/04/25/hello-world/0250402232241256.png" alt="image-20250402232241256"></p><p>命令如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">在admin上：./linux_x64_admin -l <span class="hljs-tag">&lt;<span class="hljs-name">端口号</span>&gt;</span><br>在agent上：./windows_x64_agent.exe -c <span class="hljs-tag">&lt;<span class="hljs-name">admin的IP</span>&gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">admin的端口</span>&gt;</span><br></code></pre></td></tr></table></figure><p>在这里的命令如下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">在admin上：./linux_x64_admin -l 9999<br>在agent上：./windows_x64_agent.exe -c 47.122.75.126:9999<br></code></pre></td></tr></table></figure><p>可能在admin机上执行命令时会出现以下权限报错</p><p><img src="/2025/04/25/hello-world/0250402232706627.png" alt="image-20250402232706627"></p><p>这时只要输入以下命令即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> +x linux_x64_admin<br></code></pre></td></tr></table></figure><p><img src="/2025/04/25/hello-world/0250402232840262.png" alt="image-20250402232840262"></p><p>然后在自己主机上输入命令，注意要在<code>Windows PowerShell</code>里输入命令</p><p><img src="/2025/04/25/hello-world/0250402233520977.png" alt="image-20250402233520977"></p><p>然后就会发现vps上多出了<code>(admin) &gt;&gt;</code>，这就是成功连上了</p><p><img src="/2025/04/25/hello-world/0250402233622733.png" alt="image-20250402233622733"></p><p>然后输入<code>help</code>或者<code>h</code>就可以查看命令</p><p><img src="/2025/04/25/hello-world/0250402233812557.png" alt="image-20250402233812557"></p><table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>help</td><td>显示帮助信息、命令</td></tr><tr><td>detail</td><td>显示已连接节点的信息</td></tr><tr><td>topo</td><td>显示节点的拓扑结构，直观了解各节点间的连接关系、布局等情况</td></tr><tr><td>use <id></td><td>用来选择用户想要使用的目标节点</td></tr><tr><td>exit</td><td>用于退出程序</td></tr></tbody></table><p><img src="/2025/04/25/hello-world/0250402234326936.png" alt="image-20250402234326936"></p><p>这里<code>detail</code>展示连接节点的信息，然后使用命令<code>use 0</code>选择连这个主机，可以一次连接多个，如果有多个就<code>use &lt;id&gt;</code>，<code>id</code>就是前面的<code>Node[id]</code></p><p>连上后输入<code>help</code>命令，主要用<code>socks</code></p><p><img src="/2025/04/25/hello-world/0250402234947008.png" alt="image-20250402234947008"></p><p>比如输入<code>shell</code>就拿到连接的主机权限，可以执行命令，如<code>ipconfig</code>查看<code>IP</code></p><p><img src="/2025/04/25/hello-world/0250402235411194.png" alt="image-20250402235411194"></p><p>虽然有乱码但是无伤大雅，只要输入命令改为<code>utf-8</code>就行了</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">chcp</span> <span class="hljs-number">65001</span><br></code></pre></td></tr></table></figure><p><img src="/2025/04/25/hello-world/0250403000349590-1745557655943-1.png" alt="image-20250403000349590"></p><p>接下来开一个<code>socks</code>进行流量转发</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">socks</span> <span class="hljs-number">15000</span><br></code></pre></td></tr></table></figure><p><img src="/2025/04/25/hello-world/0250403000622117-1745557659184-3.png" alt="image-20250403000622117"></p><p>像上面图这样就是开成功了，然后是想要在自己本机上执行命令打到内网有三种方式</p><h2 id="第一种是使用Yakit"><a href="#第一种是使用Yakit" class="headerlink" title="第一种是使用Yakit"></a>第一种是使用<code>Yakit</code></h2><p>Yakit 下载网址：<a href="https://yaklang.com/">https://yaklang.com/</a></p><p>先来配置一下 Yakit</p><p><img src="/2025/04/25/hello-world/0250403001646226-1745557663297-5.png" alt="image-20250403001646226"></p><p>点击选择这个项目</p><p><img src="/2025/04/25/hello-world/0250403001726874-1745557667098-7.png" alt="image-20250403001726874"></p><p>然后点击左上角的 MITM</p><p><img src="/2025/04/25/hello-world/0250403002025559-1745557671758-9.png" alt="image-20250403002025559"></p><p>然后配置，下游代理如下填写</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">socks5://<span class="hljs-tag">&lt;<span class="hljs-name">admin的IP</span>&gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">admin的端口</span>&gt;</span><br></code></pre></td></tr></table></figure><p>我这里的就是</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">socks5:</span><span class="hljs-comment">//47.122.75.126:15000</span><br></code></pre></td></tr></table></figure><p>然后点击劫持启动</p><p><img src="/2025/04/25/hello-world/0250403002413167-1745557677013-11.png" alt="image-20250403002413167"></p><p>然后在弹出的浏览器输入连接的主机的ip和端口</p><p><img src="/2025/04/25/hello-world/0250403002615527-1745557680916-13.png" alt="image-20250403002615527"></p><p><img src="/2025/04/25/hello-world/0250403002710313-1745557684309-15.png" alt="image-20250403002710313"></p><p>可能会出现上面这样，把<code>https</code>改成<code>http</code>就行</p><p><img src="/2025/04/25/hello-world/0250403002746222-1745557687495-17.png" alt="image-20250403002746222"></p><p>接下来就只要知道文件路径就可以访问了</p><p><img src="/2025/04/25/hello-world/0250403002856812-1745557691220-19.png" alt="image-20250403002856812"></p><p>不过我这里是在我自己的主机里搞的，似乎本来就可以连接上</p><h2 id="第二种是用Proxifier"><a href="#第二种是用Proxifier" class="headerlink" title="第二种是用Proxifier"></a>第二种是用<code>Proxifier</code></h2><p>Proxifier下载激活博客：<a href="https://www.cnblogs.com/wushiyiwuzhong/p/17809020.html">https://www.cnblogs.com/wushiyiwuzhong/p/17809020.html</a></p><p>进行配置，找到导航栏 Profile-&gt;Proxy Servers</p><p><img src="/2025/04/25/hello-world/0250403010419632-1745557696161-21.png" alt="image-20250403010419632"></p><p>添加一个代理</p><p><img src="/2025/04/25/hello-world/0250403010858948-1745557700258-23.png" alt="image-20250403010858948"></p><p>然后还要配置一个，就是第二个 Proxification Rules</p><p><img src="/2025/04/25/hello-world/0250403011335167-1745557703543-25.png" alt="image-20250403011335167"></p><p>现在就相当于在我主机的内网上了（虽然我现在本身就是用的自己的主机，不过过程就是这个过程）</p><h2 id="第三种是使用在kali里的proxychains"><a href="#第三种是使用在kali里的proxychains" class="headerlink" title="第三种是使用在kali里的proxychains"></a>第三种是使用在<code>kali</code>里的<code>proxychains</code></h2><p>在kali中是自带<code>proxychains</code>的</p><p><img src="/2025/04/25/hello-world/0250403003441163-1745557706372-27.png" alt="image-20250403003441163"></p><p>使用这个前要进行配置文件</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">vim</span> /etc/proxychains4.<span class="hljs-keyword">conf</span><br></code></pre></td></tr></table></figure><p>直接拉到最后一行，如下图</p><p><img src="/2025/04/25/hello-world/0250403003827997-1745557709281-29.png" alt="image-20250403003827997"></p><p>然后把<code>socks4</code>那行注释掉，在最后加入<code>socks5 &lt;admin的IP&gt; &lt;admin的端口&gt;</code></p><p><img src="/2025/04/25/hello-world/0250403004047794-1745557712320-31.png" alt="image-20250403004047794"></p><p>保存退出，这就和前面的一样做流量转发</p><p>然后就可以执行命令，在前面加入<code>proxychains</code>就行</p><p><img src="/2025/04/25/hello-world/0250403004412418-1745557715271-33.png" alt="image-20250403004412418"></p><p>甚至可以跑sqlmap</p><p><img src="/2025/04/25/hello-world/0250403004640275-1745557719747-35.png" alt="image-20250403004640275"></p><p>OK，完事，撒花~~~</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2025/04/25/hello-world/"/>
    <url>/2025/04/25/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <categories>
      
      <category>Hello</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
  
  
  <entry>
    <title>test</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[]]></content>
    
  </entry>
  
  
  
</search>
